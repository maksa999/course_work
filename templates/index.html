<!DOCTYPE html>
<html>
<head>
    <title>Warehouse System - –ì–ª–∞–≤–Ω–∞—è</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2d3748;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }
        .header h1 {
            color: #2d3748;
            font-size: 2.2em;
            margin-bottom: 8px;
            font-weight: 600;
        }
        .header p {
            color: #718096;
            font-size: 1.1em;
        }
        .auth-buttons {
            position: absolute;
            top: 0;
            right: 0;
            display: flex;
            gap: 12px;
            align-items: center;
        }
        .btn {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        .btn:hover {
            background: #5a6fd8;
            transform: translateY(-1px);
        }
        .btn-danger {
            background: #e53e3e;
        }
        .btn-danger:hover {
            background: #c53030;
        }
        .user-info {
            margin-right: 10px;
            color: #4a5568;
            font-weight: 500;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-card h3 {
            font-size: 2em;
            margin-bottom: 8px;
            font-weight: 600;
        }
        .stat-card p {
            opacity: 0.9;
            font-size: 0.95em;
        }
        .menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        .menu-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 24px;
            text-align: center;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s ease;
        }
        .menu-card:hover {
            transform: translateY(-2px);
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }
        .menu-card h3 {
            font-size: 1.3em;
            margin-bottom: 8px;
            color: #2d3748;
            font-weight: 600;
        }
        .menu-card p {
            color: #718096;
            margin-bottom: 12px;
            font-size: 0.9em;
        }
        .icon {
            font-size: 2.5em;
            margin-bottom: 12px;
        }
        .alert {
            padding: 12px 16px;
            border-radius: 6px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 500;
        }
        .alert-success {
            background: #c6f6d5;
            color: #22543d;
            border: 1px solid #9ae6b4;
        }
        .alert-error {
            background: #fed7d7;
            color: #742a2a;
            border: 1px solid #feb2b2;
        }
        .login-required {
            text-align: center;
            padding: 32px;
            background: #fffaf0;
            border: 1px solid #feebc8;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .login-required h3 {
            color: #744210;
            margin-bottom: 8px;
        }
        .disabled {
            opacity: 0.6;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="auth-buttons">
                {% if current_user %}
                    <span class="user-info">{{ current_user.full_name }}</span>
                    <form action="/logout" method="post" style="display: inline;">
                        <button type="submit" class="btn btn-danger">–í—ã–π—Ç–∏</button>
                    </form>
                {% else %}
                    <a href="/login-page" class="btn">–í–æ–π—Ç–∏</a>
                    <a href="/register-page" class="btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                {% endif %}
            </div>

            <h1>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–ª–∞–¥–æ–º</h1>
            <p>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –ø–æ—Å—Ç–∞–≤–∫–∞–º–∏</p>
        </div>

        {% if request.query_params.get('success') %}
        <div class="alert alert-success">
            {{ request.query_params.get('success').replace('+', ' ') }}
        </div>
        {% endif %}

        {% if not current_user %}
        <div class="login-required">
            <h3>–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
            <p>–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç</p>
            <div style="margin-top: 16px;">
                <a href="/login-page" class="btn" style="margin-right: 8px;">–í–æ–π—Ç–∏</a>
                <a href="/register-page" class="btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </div>
        </div>
        {% endif %}

        <div class="stats">
            <div class="stat-card">
                <h3>{{ products_count }}</h3>
                <p>–¢–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ</p>
            </div>
            <div class="stat-card">
                <h3>{{ supplies_count }}</h3>
                <p>–ü–æ—Å—Ç–∞–≤–æ–∫</p>
            </div>
            <div class="stat-card">
                <h3>{{ inventories_count }}</h3>
                <p>–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–π</p>
            </div>
        </div>

        <div class="menu {% if not current_user %}disabled{% endif %}">
            <a href="/products-page" class="menu-card">
                <div class="icon">üìã</div>
                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h3>
                <p>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤</p>
            </a>

            <a href="/supplies-page" class="menu-card">
                <div class="icon">üöö</div>
                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤–∫–∞–º–∏</h3>
                <p>–£—á–µ—Ç –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤</p>
            </a>

            <a href="/inventories-page" class="menu-card">
                <div class="icon">üîç</div>
                <h3>–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏</h3>
                <p>–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–π</p>
            </a>
        </div>
    </div>
</body>
</html>